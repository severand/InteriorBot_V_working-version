"""
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                   ะะะะะะะขะงะะ ะะะะะะะะขะะะฌะะซะฅ ะคะะะะะ                            โ
โ                    (Creation Extras - Extra Files Handler)                     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

๐ ะะะะะะงะะะะ ะะะะฃะะฏ:
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
ะญัะพั ะผะพะดัะปั ะพัะฒะตัะฐะตั ะทะฐ ะพะฑัะฐะฑะพัะบั ะธ ัะธะปัััะฐัะธั ัะฐะนะปะพะฒ ะฒ ะฝะตะฟัะฐะฒะธะปัะฝัั FSM-ัะพััะพัะฝะธัั.

๐ฏ ะะกะะะะะะฏ ะะะะะงะ:
  1. ะะพะทะฒะพะปะธัั ะพะฑัะฐะฑะพัะบั ัะฐะนะปะพะฒ ัะพะปัะบะพ ะฒ ะฝัะถะฝัั ัะพััะพัะฝะธัั (uploading_photo, 
     uploading_furniture, loading_facade_sample, text_input)
  2. ะะฒัะพะผะฐัะธัะตัะบะธ ัะดะฐะปััั ัะฐะนะปั, ะพัะฟัะฐะฒะปะตะฝะฝัะต ะฟะพะปัะทะพะฒะฐัะตะปะตะผ ะฒ ะฝะตะฟัะฐะฒะธะปัะฝัะต ัะพััะพัะฝะธั
  3. ะัะตะดะพัะฒัะฐัะฐัั ะปะธัะฝะธะต ัะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั - ะฟัะพััะพ ัะดะฐะปััั ัะฐะนะปั ะผะพะปัะฐ

๐ ะะะ ะญะขะ ะะะะะขะะะข:
  - ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ัะพััะพัะฝะธะธ uploading_photo โ ะตะณะพ ัะพัะพ ะพะฑัะฐะฑะพัะฐัััั creation_main.py
  - ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธั ัะพัะพ ะฒ ะดััะณะพะผ ัะพััะพัะฝะธะธ โ ัะพัะพ ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะดะฐะปะธััั
  - ะขะพะถะต ัะฐะผะพะต ั ัะตะบััะพะผ, ะฒะธะดะตะพ, ะดะพะบัะผะตะฝัะฐะผะธ, ะฐัะดะธะพ ะธ ั.ะด.

๐ ะกะขะะฃะะขะฃะะ:
  โโ VALID STATES (โ ะะฐะทัะตััะฝะฝัะต): Pass-through ะพะฑัะฐะฑะพััะธะบะธ
  โ   โโ ะะดะตัั ัะพัะพ/ัะตะบัั ะฟะตัะตะดะฐัััั ะฝัะถะฝัะผ ะพะฑัะฐะฑะพััะธะบะฐะผ
  โ
  โโ INVALID STATES (โ ะะฐะฟัะตััะฝะฝัะต): Silent delete ะพะฑัะฐะฑะพััะธะบะธ  
      โโ ะะดะตัั ัะฐะนะปั ัะดะฐะปััััั ะฑะตะท ัะพะพะฑัะตะฝะธะน ะพะฑ ะพัะธะฑะบะต

โ๏ธ ะะะะะะะขะะข ะะะะจะะฃะขะะะะฆะะ:
  ะะนะพะณัะฐะผ ะพะฑัะฐะฑะฐััะฒะฐะตั ะผะฐัััััั ะฒ ะฟะพััะดะบะต ัะตะณะธัััะฐัะธะธ, ะฟะพััะพะผั:
  1๏ธโฃ  ะกะฝะฐัะฐะปะฐ ะธะดัั VALID STATES (ัะฐะทัะตััะฝะฝัะต)
  2๏ธโฃ  ะะพัะพะผ ะธะดัั INVALID STATES (ะทะฐะฟัะตััะฝะฝัะต)
  ะัะปะธ ัะพััะพัะฝะธะต ัะฐะทัะตัะตะฝะพ โ ััะฝะบัะธั pass ะธ ะพะฑัะฐะฑะพัะบะฐ ะธะดัั ะฒ creation_main.py
  ะัะปะธ ัะพััะพัะฝะธะต ะทะฐะฟัะตัะตะฝะพ โ ัะฐะนะป ัะดะฐะปัะตััั ะผะพะปัะฐ
"""

import logging
import asyncio

from aiogram import Router, F
from aiogram.fsm.context import FSMContext
from aiogram.filters.state import StateFilter
from aiogram.types import Message
from aiogram.exceptions import TelegramBadRequest

from database.db import db
from states.fsm import CreationStates

logger = logging.getLogger(__name__)
router = Router()


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# โ [ะะะะะะจะะะะซะ ะกะะกะขะะฏะะะฏ] ะคะพัะพ/ัะตะบัั ะฒ ะฝัะถะฝะพะผ ะผะตััะต - ะฟัะพะฟััะบะฐะตะผ ะดะฐะปััะต
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# 
# ะะะะะะ:
#   ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะฒ ะพะดะฝะพะผ ะธะท ััะธั ัะพััะพัะฝะธะน ะธ ะพัะฟัะฐะฒะปัะตั ะฝัะถะฝัะน ัะธะฟ ัะฐะนะปะฐ โ
#   ะผั ะะ ะพะฑัะฐะฑะฐััะฒะฐะตะผ ะทะดะตัั, ะฐ ะฟัะพะฟััะบะฐะตะผ (pass) ะดะฐะปััะต ะฒ ะดััะณะธะต ะพะฑัะฐะฑะพััะธะบะธ.
#   ะญัะพ ะฝัะถะฝะพ, ััะพะฑั ะฟัะตะดะพัะฒัะฐัะธัั ัะดะฐะปะตะฝะธะต ัะฐะนะปะพะฒ ะฒ INVALID STATES ะพะฑัะฐะฑะพััะธะบะฐั.
#

@router.message(StateFilter(CreationStates.uploading_photo), F.photo)
async def handle_photo_in_uploading_photo_state(message: Message, state: FSMContext):
    """
    โ [SCREEN 2] ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ัะพัะพ ะฒ ัะพััะพัะฝะธะธ uploading_photo
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะพัะพ, ะฐ ะตะณะพ FSM-ัะพััะพัะฝะธะต = uploading_photo
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะัะพะฟััะบะฐะตั (pass) ัะพัะพ ะดะฐะปััะต - ะตะณะพ ะพะฑัะฐะฑะพัะฐะตั handler ะฒ creation_main.py
    
    ๐ก ะะะงะะะฃ ะะะะะ:
       ะะตะท ััะพะณะพ ะพะฑัะฐะฑะพััะธะบะฐ ัะพัะพ ัะดะฐะปะธะปัั ะฑั ะฒ handle_unexpected_files().
       ะขะฐะบ ะผั ะทะฐัะธัะฐะตะผ ะฝัะถะฝัะต ัะฐะนะปั ะพั ัะดะฐะปะตะฝะธั.
    """
    pass


@router.message(StateFilter(CreationStates.uploading_furniture), F.photo)
async def handle_photo_in_uploading_furniture_state(message: Message, state: FSMContext):
    """
    โ [SCREEN X] ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ัะพัะพ ะฒ ัะพััะพัะฝะธะธ uploading_furniture
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะพัะพ ะดะปั ัะฐัััะฐะฝะพะฒะบะธ ะผะตะฑะตะปะธ
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะัะพะฟััะบะฐะตั ัะพัะพ ะดะฐะปััะต - ะตะณะพ ะพะฑัะฐะฑะพัะฐะตั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน handler
    
    ๐ก ะะะงะะะฃ ะะะะะ:
       ะะตะถะธะผ "ะะฐัััะฐะฝะพะฒะบะฐ ะผะตะฑะตะปะธ" ะธัะฟะพะปัะทัะตั ัะฒะพะน ะพะฑัะฐะฑะพััะธะบ ัะพัะพ.
    """
    pass


@router.message(StateFilter(CreationStates.loading_facade_sample), F.photo)
async def handle_photo_in_loading_facade_sample_state(message: Message, state: FSMContext):
    """
    โ [SCREEN X] ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ัะพัะพ ะฒ ัะพััะพัะฝะธะธ loading_facade_sample
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะพัะพ ะดะปั ะดะธะทะฐะนะฝะฐ ัะฐัะฐะดะฐ
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะัะพะฟััะบะฐะตั ัะพัะพ ะดะฐะปััะต - ะตะณะพ ะพะฑัะฐะฑะพัะฐะตั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน handler
    
    ๐ก ะะะงะะะฃ ะะะะะ:
       ะะตะถะธะผ "ะะธะทะฐะนะฝ ัะฐัะฐะดะฐ" ะธัะฟะพะปัะทัะตั ัะฒะพะน ะพะฑัะฐะฑะพััะธะบ ัะพัะพ.
    """
    pass



@router.message(StateFilter(CreationStates.download_sample), F.photo)
async def handle_photo_in_download_sample_state(message: Message, state: FSMContext):
    """
    โ [SCREEN 10] ะะพะปัะทะพะฒะฐัะตะปั ะทะฐะณััะถะฐะตั ะพะฑัะฐะทะตั ะดะธะทะฐะนะฝะฐ ะฒ ัะพััะพัะฝะธะธ download_sample
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะพัะพ ะพะฑัะฐะทัะฐ ะดะธะทะฐะนะฝะฐ ะฝะฐ ัะบัะฐะฝะต "ะะฐะณััะทะธัั ะพะฑัะฐะทะตั"
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะัะพะฟััะบะฐะตั ัะพัะพ ะดะฐะปััะต - ะตะณะพ ะพะฑัะฐะฑะพัะฐะตั handler ะฒ creation_main.py
    
    ๐ก ะะะงะะะฃ ะะะะะ:
       ะะตะท ััะพะณะพ ะพะฑัะฐะฑะพััะธะบะฐ ัะพัะพ ัะดะฐะปะธะปัั ะฑั ะฒ handle_unexpected_files().
    """
    pass



@router.message(StateFilter(CreationStates.text_input), F.text)
async def handle_text_in_text_input_state(message: Message, state: FSMContext):
    """
    โ [SCREEN X] ะะพะปัะทะพะฒะฐัะตะปั ะฒะฒะพะดะธั ัะตะบัั ะฒ ัะพััะพัะฝะธะธ text_input
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะตะบััะพะฒะพะต ัะพะพะฑัะตะฝะธะต, ะฐ ะตะณะพ FSM-ัะพััะพัะฝะธะต = text_input
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะัะพะฟััะบะฐะตั ัะตะบัั ะดะฐะปััะต - ะตะณะพ ะพะฑัะฐะฑะพัะฐะตั ัะฟะตัะธะฐะปะธะทะธัะพะฒะฐะฝะฝัะน handler
    
    ๐ก ะะะงะะะฃ ะะะะะ:
       ะขะตะบััะพะฒัะน ะฒะฒะพะด (ะฝะฐะฟัะธะผะตั, ะดะปั ะฟัะพะผะฟัะพะฒ) ััะตะฑัะตั ัะฟะตัะธะฐะปัะฝะพะน ะพะฑัะฐะฑะพัะบะธ.
       ะะตะท ะทะฐัะธัั ัะตะบัั ะฑัะป ะฑั ัะดะฐะปัะฝ ะฒ handle_unexpected_text().
    """
    pass


# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# โ [ะะะะะะฉะะะะซะ ะกะะกะขะะฏะะะฏ] ะะตะพะถะธะดะฐะฝะฝัะต ัะฐะนะปั - ะะะะงะ ะฃะะะะฏะะ
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# 
# ะะะะะะ:
#   ะัะปะธ ะฟะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธั ัะฐะนะป ะฒ ัะพััะพัะฝะธะธ, ะณะดะต ะตะณะพ ะพะฑัะฐะฑะพัะฐัั ะฝะตะปัะทั โ
#   ะผั ัะดะฐะปัะตะผ ัะฐะนะป ะผะพะปัะฐ (ะฑะตะท ัะพะพะฑัะตะฝะธะน ะพะฑ ะพัะธะฑะบะต).
#   ะญัะพ ัะพััะฐะฝัะตั ัะฐั ัะธัััะผ ะธ ะฟัะตะดะพัะฒัะฐัะฐะตั ัะฟะฐะผ.
#

@router.message(
    ~StateFilter(CreationStates.uploading_photo),
    ~StateFilter(CreationStates.uploading_furniture),
    ~StateFilter(CreationStates.loading_facade_sample),
   # ~StateFilter(CreationStates.download_sample),
    F.photo,
    F.media_group_id
)
async def handle_unexpected_media_group(message: Message, state: FSMContext):
    """
    โ [CLEANUP] ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ะะะฌะะะ (ะณััะฟะฟั ัะพัะพ) ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะผ ัะพััะพัะฝะธะธ
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       1. ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ะฝะตัะบะพะปัะบะพ ัะพัะพ ััะฐะทั (ะฐะปัะฑะพะผ)
       2. ะะณะพ ัะตะบััะตะต ัะพััะพัะฝะธะต ะะ uploading_photo, uploading_furniture ะธะปะธ 
          loading_facade_sample
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะฃะดะฐะปัะตั ะฒัะต ัะพัะพ ะธะท ะฐะปัะฑะพะผะฐ ะผะพะปัะฐ (ะฑะตะท ัะพะพะฑัะตะฝะธะน)
    
    ๐ก ะะะงะะ:
       - ะะปัะฑะพะผั ะผะพะณัั ะทะฐัะฟะฐะผะธัั ัะฐั ะผััะพัะฝัะผะธ ัะพะพะฑัะตะฝะธัะผะธ
       - ะะพะปัะทะพะฒะฐัะตะปั ัะปััะฐะนะฝะพ ะพัะฟัะฐะฒะธะป ัะพัะพ ะฝะต ะฒ ะฝัะถะฝะพะต ะฒัะตะผั
       - ะะตั ัะผััะปะฐ ะฟะพะบะฐะทัะฒะฐัั ะพัะธะฑะบั - ะฟัะพััะพ ัะดะฐะปัะตะผ
    
    โก ะะะะะะะกะะะกะขะฌ:
       Try-except ะปะพะฒะธั TelegramBadRequest ะตัะปะธ ัะพัะพ ัะถะต ัะดะฐะปะตะฝะพ
    """
    try:
        await message.delete()
        logger.info(f"๐๏ธ [ALBUM_DELETED] user={message.from_user.id}, "
                   f"state={await state.get_state()}")
    except TelegramBadRequest:
        # ะคะพัะพ ัะถะต ัะดะฐะปะตะฝะพ ะธะปะธ ะฑะพั ะฝะต ะธะผะตะตั ะฟัะฐะฒ
        pass
    except Exception as e:
        logger.error(f"โ [ALBUM_DELETE_ERROR] {e}")


@router.message(
    ~StateFilter(CreationStates.uploading_photo),
    ~StateFilter(CreationStates.uploading_furniture),
    ~StateFilter(CreationStates.loading_facade_sample),
    ~StateFilter(CreationStates.download_sample),
    F.photo | F.document | F.video | F.video_note | F.audio | F.voice | F.animation,
    ~F.media_group_id
)
async def handle_unexpected_files(message: Message, state: FSMContext):
    """
    โ [CLEANUP] ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ะะะะะะงะะซะ ะคะะะ ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะผ ัะพััะพัะฝะธะธ
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       1. ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะฐะนะป (ัะพัะพ, ะฒะธะดะตะพ, ะดะพะบัะผะตะฝั, ะฐัะดะธะพ ะธ ั.ะด.)
       2. ะญัะพ ะะ ะฐะปัะฑะพะผ (ะฝะต media_group_id)
       3. ะะณะพ ัะตะบััะตะต ัะพััะพัะฝะธะต ะะ uploading_photo, uploading_furniture ะธะปะธ 
          loading_facade_sample
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะฃะดะฐะปัะตั ัะฐะนะป ะผะพะปัะฐ (ะฑะตะท ัะพะพะฑัะตะฝะธะน ะพะฑ ะพัะธะฑะบะต)
    
    ๐ก ะะะงะะ:
       - ะะพะปัะทะพะฒะฐัะตะปั ัะปััะฐะนะฝะพ ะพัะฟัะฐะฒะธะป ัะฐะนะป
       - ะคะฐะนะป ะฝะต ะผะพะถะตั ะฑััั ะพะฑัะฐะฑะพัะฐะฝ ะฒ ัะตะบััะตะผ ัะพััะพัะฝะธะธ
       - ะัััะต ัะดะฐะปะธัั ะผะพะปัะฐ, ัะตะผ ะฟะพะบะฐะทะฐัั ะพัะธะฑะบั
    
    ๐ ะฃะะะะฏะะะซะ ะขะะะซ:
       โข ๐ผ๏ธ  ะคะพัะพ (photo)
       โข ๐ ะะพะบัะผะตะฝัั (document)
       โข ๐ฌ ะะธะดะตะพ (video)
       โข ๐ต ะัะดะธะพ (audio, voice)
       โข ๐๏ธ  ะะฝะธะผะฐัะธั/GIF (animation)
       โข ๐น ะะธะดะตะพัะพะพะฑัะตะฝะธะต (video_note)
    
    โก ะะะะะะะกะะะกะขะฌ:
       Try-except ะปะพะฒะธั ะธัะบะปััะตะฝะธั ะฟัะธ ัะดะฐะปะตะฝะธะธ
    """
    try:
        await message.delete()
        logger.info(f"๐๏ธ [FILE_DELETED] user={message.from_user.id}, "
                   f"state={await state.get_state()}")
    except TelegramBadRequest:
        # ะคะฐะนะป ัะถะต ัะดะฐะปัะฝ ะธะปะธ ะฑะพั ะฝะต ะธะผะตะตั ะฟัะฐะฒ
        pass
    except Exception as e:
        logger.error(f"โ [FILE_DELETE_ERROR] {e}")


@router.message(
    ~StateFilter(CreationStates.text_input),
    F.text
)
async def handle_unexpected_text(message: Message, state: FSMContext):
    """
    โ [CLEANUP] ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ะขะะะกะข ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะผ ัะพััะพัะฝะธะธ
    
    ๐ ะะะะะ ะกะะะะะขะซะะะะข:
       1. ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะตะบััะพะฒะพะต ัะพะพะฑัะตะฝะธะต
       2. ะะณะพ FSM-ัะพััะพัะฝะธะต ะะ text_input
       3. ะญัะพ ัะตะบััะพะฒะพะต ัะพะพะฑัะตะฝะธะต ะฝะต ะพะฑัะฐะฑะพัะฐะฝะพ ะฒััะต
    
    ๐ฏ ะงะขะ ะะะะะะข:
       ะฃะดะฐะปัะตั ัะตะบัั ะผะพะปัะฐ
    
    ๐ก ะะะงะะ:
       - ะขะตะบััะพะฒัะน ะฒะฒะพะด ัะฐะทัะตัะตะฝ ัะพะปัะบะพ ะฒ ัะพััะพัะฝะธะธ text_input
       - ะ ะดััะณะธั ัะพััะพัะฝะธัั ะธัะฟะพะปัะทััััั ะบะฝะพะฟะบะธ (callback queries)
       - ะขะตะบัั ะฒ ะฝะตะฟัะฐะฒะธะปัะฝะพะต ะฒัะตะผั = ะพัะธะฑะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปั โ ัะดะฐะปัะตะผ
    
    ๐ ะะะะะะะซ ะะะะะ ะกะะะะะขะซะะะะข:
       โ ะะพะปัะทะพะฒะฐัะตะปั ะฝะฐะฟะธัะฐะป ัะพะพะฑัะตะฝะธะต ะฒะผะตััะพ ะบะปะธะบะฐ ะฟะพ ะบะฝะพะฟะบะต
       โ ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะตะบัั ะฝะฐ ัะบัะฐะฝะต ะฒัะฑะพัะฐ ะบะพะผะฝะฐัั
       โ ะะพะปัะทะพะฒะฐัะตะปั ะพัะฟัะฐะฒะธะป ัะพะพะฑัะตะฝะธะต ะฒ ะผะตะฝั
    
    โก ะะะะะะะกะะะกะขะฌ:
       Try-except ะปะพะฒะธั ะธัะบะปััะตะฝะธั ะฟัะธ ัะดะฐะปะตะฝะธะธ
    """
    try:
        await message.delete()
        logger.info(f"๐๏ธ [TEXT_DELETED] user={message.from_user.id}, "
                   f"state={await state.get_state()}")
    except TelegramBadRequest:
        # ะขะตะบัั ัะถะต ัะดะฐะปัะฝ ะธะปะธ ะฑะพั ะฝะต ะธะผะตะตั ะฟัะฐะฒ
        pass
    except Exception as e:
        logger.error(f"โ [TEXT_DELETE_ERROR] {e}")
